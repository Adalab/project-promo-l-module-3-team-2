{"version":3,"sources":["00-form.js","01-collapsable.js","02-palettes.js","03-image.js","04-localStorage.js","05-fetch.js","06-reset-button.js","07-share-button.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\r\n\r\nconst inputsTextConfig = [\r\n  {\r\n    inputClass: '.js-name',\r\n    cardClass: '.js-preview-name',\r\n    defaultValue: 'Mary Shelly',\r\n    cardPrefix: '',\r\n    cardElementAttribute: 'innerHTML',\r\n  },\r\n  {\r\n    inputClass: '.js-job',\r\n    cardClass: '.js-preview-job',\r\n    defaultValue: 'Master of creatures',\r\n    cardPrefix: '',\r\n    cardElementAttribute: 'innerHTML',\r\n  },\r\n  {\r\n    inputClass: '.js-email',\r\n    cardClass: '.js-preview-email',\r\n    defaultValue: '',\r\n    cardPrefix: 'mailto:',\r\n    cardElementAttribute: 'href',\r\n  },\r\n  {\r\n    inputClass: '.js-phone',\r\n    cardClass: '.js-preview-phone',\r\n    defaultValue: '',\r\n    cardPrefix: '',\r\n    cardElementAttribute: 'href',\r\n  },\r\n  {\r\n    inputClass: '.js-linkedin',\r\n    cardClass: '.js-preview-linkedin',\r\n    defaultValue: '',\r\n    cardPrefix: 'https://www.linkedin.com/in/',\r\n    cardElementAttribute: 'href',\r\n  },\r\n  {\r\n    inputClass: '.js-github',\r\n    cardClass: '.js-preview-github',\r\n    defaultValue: '',\r\n    cardPrefix: 'https://www.github.com/',\r\n    cardElementAttribute: 'href',\r\n  },\r\n];\r\n\r\nfunction updateAllInputs() {\r\n  for (const inputTextConfig of inputsTextConfig) {\r\n    const inputElement = document.querySelector(inputTextConfig.inputClass);\r\n    const cardElement = document.querySelector(inputTextConfig.cardClass);\r\n\r\n    let newValue = inputElement.value;\r\n\r\n    if (inputTextConfig.cardElementAttribute === 'innerHTML') {\r\n      if (inputElement.value === '') {\r\n        newValue = inputTextConfig.defaultValue;\r\n      } else {\r\n        newValue = inputElement.value;\r\n      }\r\n\r\n      cardElement.innerHTML = newValue;\r\n    } else if (inputTextConfig.cardElementAttribute === 'href') {\r\n      if (inputElement.value === '') {\r\n        newValue = '#';\r\n      } else {\r\n        newValue = newValue.replace(inputTextConfig.cardPrefix, '');\r\n        newValue = inputTextConfig.cardPrefix + newValue;\r\n      }\r\n      cardElement.href = newValue;\r\n    }\r\n  }\r\n  // eslint-disable-next-line no-undef\r\n  saveInLocalStorage();\r\n}\r\nconst inputTextElements = document.querySelectorAll('.js-input-text');\r\n\r\nfor (const inputTextElement of inputTextElements) {\r\n  inputTextElement.addEventListener('keyup', updateAllInputs);\r\n}\r\n","'use strict';\r\n\r\nconst headerElements = document.querySelectorAll('.collapsable__header');\r\n\r\nfor (const element of headerElements) {\r\n  element.addEventListener('click', collapsableHandler);\r\n}\r\n\r\nfunction collapsableHandler(event) {\r\n  const sectionElement = event.currentTarget.closest('.js-collapsable');\r\n\r\n  const sectionElements = document.querySelectorAll('.js-collapsable');\r\n  for (const section of sectionElements) {\r\n    if (sectionElement === section) {\r\n      section.classList.toggle('collapsed');\r\n    } else {\r\n      section.classList.add('collapsed');\r\n    }\r\n  }\r\n}\r\n","'use strict';\r\n\r\nconst paletteElements = document.querySelectorAll('.js-palette');\r\nconst cardElement = document.querySelector('.js-card');\r\nlet checkedPalette = 0;\r\n\r\nfunction handlerPalette() {\r\n  cardElement.classList.remove('palette-0', 'palette-1', 'palette-2');\r\n  const checkedPaletteElement = document.querySelector('.js-palette:checked');\r\n  checkedPalette = checkedPaletteElement.value;\r\n  cardElement.classList.add('palette-' + checkedPalette);\r\n  // eslint-disable-next-line no-undef\r\n  saveInLocalStorage();\r\n}\r\n\r\nfor (const paletteElement of paletteElements) {\r\n  paletteElement.addEventListener('change', handlerPalette);\r\n}\r\n\r\n// handlerPalette();\r\n","'use strict';\r\n\r\nconst fr = new FileReader();\r\nconst uploadBtn = document.querySelector('.js__profile-trigger');\r\nconst fileField = document.querySelector('.js__profile-upload-btn');\r\nconst profileImage = document.querySelector('.js__profile-image');\r\nconst profilePreview = document.querySelector('.js__profile-preview');\r\nlet photo = '';\r\n\r\nfunction getImage(e) {\r\n  const myFile = e.currentTarget.files[0];\r\n  fr.addEventListener('load', writeImage);\r\n  fr.readAsDataURL(myFile);\r\n}\r\n\r\nfunction writeImage() {\r\n  photo = fr.result;\r\n  updatePhoto();\r\n\r\n  // eslint-disable-next-line no-undef\r\n  saveInLocalStorage();\r\n}\r\n\r\nfunction updatePhoto() {\r\n  const currentPhoto = photo;\r\n  if (currentPhoto !== '') {\r\n    profilePreview.style.backgroundImage = `url(${currentPhoto})`;\r\n    profileImage.style.backgroundImage = `url(${currentPhoto})`;\r\n  }\r\n}\r\n// eslint-disable-next-line no-unused-vars\r\nfunction clearPhoto() {\r\n  photo = '';\r\n  profilePreview.style.backgroundImage = '';\r\n  profileImage.style.backgroundImage = '';\r\n}\r\n\r\nfunction fakeFileClick(ev) {\r\n  ev.preventDefault();\r\n  fileField.click();\r\n}\r\n\r\nuploadBtn.addEventListener('click', fakeFileClick);\r\nfileField.addEventListener('change', getImage);\r\n","'use strict';\r\n\r\nfunction getUserData() {\r\n  return {\r\n    // eslint-disable-next-line no-undef\r\n    photo: photo,\r\n    palette: parseInt(document.querySelector('.js-palette:checked').value),\r\n    name: document.querySelector('.js-name').value,\r\n    job: document.querySelector('.js-job').value,\r\n    email: document.querySelector('.js-email').value,\r\n    phone: document.querySelector('.js-phone').value,\r\n    linkedin: document.querySelector('.js-linkedin').value,\r\n    github: document.querySelector('.js-github').value,\r\n  };\r\n}\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nfunction saveInLocalStorage() {\r\n  const userData = getUserData();\r\n  const userDataInString = JSON.stringify(userData);\r\n  localStorage.setItem('userData', userDataInString);\r\n}\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nfunction getFromLocalStorage() {\r\n  const userDataInString = localStorage.getItem('userData');\r\n  if (userDataInString !== null) {\r\n    const userData = JSON.parse(userDataInString);\r\n    document.querySelector('.js-name').value = userData.name;\r\n    document.querySelector('.js-job').value = userData.job;\r\n    document.querySelector('.js-email').value = userData.email;\r\n    document.querySelector('.js-phone').value = userData.phone;\r\n    document.querySelector('.js-linkedin').value = userData.linkedin;\r\n    document.querySelector('.js-github').value = userData.github;\r\n    // eslint-disable-next-line no-undef\r\n    photo = userData.photo;\r\n    const paletteElements = document.querySelectorAll('.js-palette');\r\n    for (const paletteElement of paletteElements) {\r\n      if (paletteElement.value === userData.palette) {\r\n        paletteElement.checked = true;\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line no-undef\r\n    updateAllInputs();\r\n    // eslint-disable-next-line no-undef\r\n    handlerPalette();\r\n    // eslint-disable-next-line no-undef\r\n    updatePhoto();\r\n  }\r\n}\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n'use strict';\r\n\r\nconst shareButton = document.querySelector('.js-share-btn');\r\nconst cardResult = document.querySelector('.js-shareclick');\r\n\r\nconst twitterHiddenElement = document.querySelector('.js-twitter-share');\r\n\r\nlet shareLink = '';\r\n\r\nfunction handleCreateBtn(ev) {\r\n  ev.preventDefault();\r\n\r\n  fetchAPI();\r\n\r\n  shareButton.classList.remove('share__button');\r\n  shareButton.classList.add('share__button--dis');\r\n  shareButton.disabled = true;\r\n  twitterHiddenElement.classList.remove('hidden-share');\r\n}\r\n\r\nshareButton.addEventListener('click', handleCreateBtn);\r\n\r\nfunction fetchAPI() {\r\n  const url = 'https://profileawesome.herokuapp.com/card';\r\n  const data = getUserData();\r\n  fetch(url, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      // console.log('Server response:', data);\r\n      if (data.success === true) {\r\n        data.cardURL;\r\n        shareLink = data.cardURL;\r\n        const linkElement = document.querySelector('.js-card-link');\r\n        linkElement.innerHTML = `<a href=\"${shareLink}\" class=\"shareclick__text js-shareclick\" target=\"_blank\">${shareLink}</a>;`;\r\n      } else {\r\n        cardResult.innerHTML = data.error;\r\n      }\r\n    });\r\n}\r\n","/* eslint-disable no-undef */\r\n\r\n'use strict';\r\n\r\nconst buttonElement = document.querySelector('.js-reset');\r\n\r\nfunction resetAll() {\r\n  for (const inputTextConfig of inputsTextConfig) {\r\n    const inputElement = document.querySelector(inputTextConfig.inputClass);\r\n    inputElement.value = inputTextConfig.defaultValue;\r\n  }\r\n\r\n  clearPhoto();\r\n  updateAllInputs();\r\n  clearInputs();\r\n}\r\n\r\nfunction clearInputs() {\r\n  const inputNameElement = document.querySelector('.js-name');\r\n  const inputJobElement = document.querySelector('.js-job');\r\n  inputJobElement.value = '';\r\n  inputNameElement.value = '';\r\n  shareButton.classList.remove('share__button--dis');\r\n  shareButton.disabled = false;\r\n  shareButton.classList.add('share__button');\r\n  twitterHiddenElement.classList.add('hidden-share');\r\n}\r\n\r\nbuttonElement.addEventListener('click', resetAll);\r\n","/* eslint-disable no-undef */\r\n'use strict';\r\n\r\nconst twitterElement = document.querySelector('.js-twitter-btn');\r\nconst twitterLinkElement = document.querySelector('.js-twitter-link');\r\n\r\nfunction handleTwitterShare() {\r\n  twitterLinkElement.href = `https://twitter.com/intent/tweet?ref_src=twsrc%5Etfw&url=${shareLink}`;\r\n}\r\ntwitterElement.addEventListener('click', handleTwitterShare);\r\n","'use strict';\r\n\r\nconst formElement = document.querySelector('.js-form');\r\n\r\nfunction preventSubmit(event) {\r\n  event.preventDefault();\r\n}\r\nformElement.addEventListener('submit', preventSubmit);\r\n\r\n// eslint-disable-next-line no-undef\r\ngetFromLocalStorage();\r\n\r\n// eslint-disable-next-line no-undef\r\nupdateAllInputs();\r\n// eslint-disable-next-line no-undef\r\nhandlerPalette();\r\n// eslint-disable-next-line no-undef\r\nupdatePhoto();\r\n"]}